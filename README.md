# Описание проекта

Этот проект представляет собой систему управления категориями товаров и самими товарами. Он включает в себя два основных
класса: `Product` (товар) и `Category` (категория), а также функционал для загрузки данных из JSON-файла.

## Структура проекта

- `main.py` — основной модуль, содержащий классы `Product` и `Category`, а также функцию `load_data_from_json` для 
загрузки данных.
- `test_main.py` — модуль с тестами для проверки корректности работы классов.
- `data/products.json` — JSON-файл с данными о товарах и категориях (необходимо создать вручную).

## Классы

### Класс `Product`

Представляет товар с следующими атрибутами:
- `name` — название товара.
- `description` — описание товара.
- `price` — цена товара.
- `quantity` — количество товара в наличии.

### Методы:

- Геттер/сеттер для цены с валидацией
- `__add__` — позволяет складывать товары по общей стоимости.
- `new_product` — фабричный метод для создания товара с обработкой дубликатов.

**Особенности:**
- При попытке установить отрицательную цену выводится предупреждение.
- При понижении цены требуется подтверждение пользователя.

### Класс `Smartphone` (наследник Product)

**Доп. атрибуты:**
- `efficiency` - производительность
- `model` - модель
- `memory` - объем памяти
- `color` - цвет

### Класс `LawnGrass` (наследник Product)

**Доп. атрибуты:**
- `country` - страна-производитель
- `germination_period` - срок прорастания
- `color` - цвет

### Класс `Category`

Представляет категорию товаров с следующими атрибутами:
- `name` - название категории
- `description` - описание
- `products` - список товаров

**Статические атрибуты:**
- `total_categories` — общее количество категорий.
- `total_unique_products` — общее количество уникальных товаров.

**Методы:**
- `add_product` - добавление товара с валидацией
- `__iter__` - итерация по товарам
- Реализация протокола итератора через `CategoryIterator`

## Функции

### `load_data_from_json(filename: str) -> List[Category]`

Загружает данные о категориях и товарах из JSON-файла и возвращает список объектов `Category`. Обрабатывает:
- Отсутствия файла
- Некорректного формата
- Автоматического создания объектов

**Формат JSON:**
```json
[
  {
    "name": "Категория",
    "description": "Описание",
    "products": [
      {
        "name": "Товар",
        "description": "Описание",
        "price": 100.0,
        "quantity": 5,
        // Доп. поля для наследников
      }
    ]
  }
]
```

## Тестирование
pytest tests/test_main.py -v

Тесты проверяют:

Работу с ценами товаров

Создание и добавление товаров

Функциональность категорий

Загрузку данных из JSON

Работу наследников Product

# Пример использования

# Создание продуктов
phone = Smartphone("iPhone", "Описание", 999.0, 10, "High", "13 Pro", "128GB", "Black")
grass = LawnGrass("Трава", "Для газона", 50.0, 100, "Russia", "14 дней", "Green")

# Создание категории
tech = Category("Техника", "Электроника", [phone])

# Добавление товара
tech.add_product(grass)

# Итерация по категории
for product in tech:
    print(product)

## Запуск проекта

1. Убедитесь, что у вас установлен Python 3.x.
2. Создайте файл products.json в папке data.
3. Запустите основной скрипт:

python main.py
